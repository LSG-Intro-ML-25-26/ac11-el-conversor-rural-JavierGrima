namespace SpriteKind {
    export const tradear = SpriteKind.create()
    export const fondo = SpriteKind.create()
}
function menu () {
    while (true) {
        eleccion = game.askForNumber("\"1:Gallina 2:Patatas 3:Cabra 4:Huevos 5:Caballo 0:Salir\"", 6)
        if (eleccion == 0) {
            break;
        } else {
            cantidad = game.askForNumber("Cuantas unidades?")
            if (eleccion == 1) {
                coste = cantidad * 6
                if (info.score() < coste) {
                    game.showLongText("No tienes suficientes troncos", DialogLayout.Bottom)
                } else {
                    info.changeScoreBy(0 - coste)
                    game.showLongText("Trato hecho", DialogLayout.Bottom)
                }
            } else if (eleccion == 2) {
                coste = cantidad * 2
                if (info.score() < coste) {
                    game.showLongText("No tienes suficientes troncos", DialogLayout.Bottom)
                } else {
                    info.changeScoreBy(0 - coste)
                    game.showLongText("Trato hecho", DialogLayout.Bottom)
                }
            } else if (eleccion == 3) {
                coste = cantidad * 5
                if (info.score() < coste) {
                    game.showLongText("No tienes suficientes troncos", DialogLayout.Bottom)
                } else {
                    info.changeScoreBy(0 - coste)
                    game.showLongText("Trato hecho", DialogLayout.Bottom)
                }
            } else if (eleccion == 4) {
                coste = cantidad * 3
                if (info.score() < coste) {
                    game.showLongText("No tienes suficientes troncos", DialogLayout.Bottom)
                } else {
                    info.changeScoreBy(0 - coste)
                    game.showLongText("Trato hecho", DialogLayout.Bottom)
                }
            } else if (eleccion == 5) {
                coste = cantidad * 12
                if (info.score() < coste) {
                    game.showLongText("No tienes suficientes troncos", DialogLayout.Bottom)
                } else {
                    info.changeScoreBy(0 - coste)
                    game.showLongText("Trato hecho", DialogLayout.Bottom)
                }
            }
        }
    }
}
controller.down.onEvent(ControllerButtonEvent.Pressed, function () {
    animation.runImageAnimation(
    nena,
    assets.animation`nena-animation-down`,
    500,
    false
    )
})
controller.right.onEvent(ControllerButtonEvent.Pressed, function () {
    animation.runImageAnimation(
    nena,
    assets.animation`nena-animation-right`,
    500,
    false
    )
})
controller.left.onEvent(ControllerButtonEvent.Pressed, function () {
    animation.runImageAnimation(
    nena,
    assets.animation`nena-animation-left`,
    500,
    false
    )
})
controller.up.onEvent(ControllerButtonEvent.Pressed, function () {
    animation.runImageAnimation(
    nena,
    assets.animation`nena-animation-up`,
    500,
    false
    )
})
let coste = 0
let cantidad = 0
let eleccion = 0
let nena: Sprite = null
let nombre_productos = [
"Gallina",
"Patatas",
"Cabra",
"Huevos",
"Caballo"
]
let valor_prodcutos = [
"6",
"2",
"5",
"3",
"12"
]
scene.setBackgroundImage(assets.image`mapa`)
nena = sprites.create(assets.image`nena-front`, SpriteKind.Player)
let arbol = sprites.create(assets.image`arbol`, SpriteKind.Enemy)
let arbol2 = sprites.create(assets.image`arbol`, SpriteKind.Enemy)
let arbol3 = sprites.create(assets.image`arbol`, SpriteKind.Enemy)
let casa = sprites.create(assets.image`casa`, SpriteKind.Enemy)
let pez = sprites.create(assets.image`nemo`, SpriteKind.Enemy)
let tiburon = sprites.create(assets.image`tiburon`, SpriteKind.Enemy)
let tronco = sprites.create(assets.image`tronco`, SpriteKind.Enemy)
casa.setPosition(27, 37)
arbol.setPosition(34, 92)
arbol2.setPosition(81, 65)
arbol3.setPosition(135, 87)
pez.setPosition(83, 16)
tiburon.setPosition(127, 23)
tronco.setPosition(145, 9)
controller.moveSprite(nena)
info.setScore(0)
forever(function () {
    if (nena.overlapsWith(arbol)) {
        info.changeScoreBy(1)
        pause(2000)
    }
})
forever(function () {
    if (nena.overlapsWith(arbol2)) {
        info.changeScoreBy(1)
        pause(2000)
    }
})
forever(function () {
    if (nena.overlapsWith(arbol3)) {
        info.changeScoreBy(1)
        pause(2000)
    }
})
forever(function () {
    if (nena.overlapsWith(casa)) {
        scene.setBackgroundColor(15)
        scene.setBackgroundImage(img`
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            `)
        menu()
        scene.setBackgroundImage(assets.image`mapa`)
        pause(2000)
    }
})
